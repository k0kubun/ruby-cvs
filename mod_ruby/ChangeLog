Fri May 18 16:18:20 2001  Shugo Maeda <shugo@modruby.net>

	* ruby/apache/eruby.rb: do not require "cgi/session".

	* configure.rb: new file.

	* Makefile.in: new file.

Wed May  2 17:44:45 2001  Shugo Maeda <shugo@modruby.net>

	* fixed copyright notice.

	* array_header.c: new file for Apache::ArrayHeader.

	* server.c: added some methods.

Fri Apr 27 18:23:44 2001  Shugo Maeda <shugo@modruby.net>

	* version 0.8.1 released.
	
Fri Apr 27 13:50:29 2001  Shugo Maeda <shugo@modruby.net>
	
	* ruby/apache/ruby.rb (emulate_cgi): new method.

	* ruby/apache/eruby.rb: inherit Apache::Ruby.

Thu Apr 26 17:41:11 2001  Shugo Maeda <shugo@modruby.net>

	* table.c: new file for Apache::Table.

	* connection.c: new file for Apache::Connection.

	* server.c: new file for Apache::Server.

	* request.c: new file for Apache::Request.

	* request.c (request_setup_cgi_env): new method.

	* mod_ruby.c (script_handler): resotre original $stdin, $stdout
	and $>.

Fri Apr 20 13:04:28 2001  Shugo Maeda <shugo@modruby.net>

	* apachelib.c (request_finfo): new method Apache::Request#finfo.

	* mod_ruby.c (load_eruby_script): supports eruby-0.9.0.

	* ruby/apache/eruby.rb: new handler Apache::ERuby.

Thu Apr 19 15:09:58 2001  Shugo Maeda <shugo@modruby.net>

	* ruby/apache/ruby.rb: new handler Apache::Ruby.

	* ruby/apache/rd2html.rb: renamed from mod_rd2html.rb.

Mon Apr 15 20:37:41 2001  Shugo Maeda <shugo@modruby.net>

	* apachelib.c (request_read): do not use buffer.

	* apachelib.c (ruby_init_apachelib): remove methods from
	Apache::request. (gets, readline, readlines, each, getc,
	readchar, ungetc, tell, seek, rewind, pos, pos=)

	* apachelib.c (ruby_init_apachelib): new class Apache::Server.

Fri Apr 13 13:16:58 2001  Shugo Maeda <shugo@modruby.net>

	* version 0.8.0 released.

Fri Apr 13 12:18:12 2001  Shugo Maeda <shugo@modruby.net>

	* examples/httpd.conf: example of httpd.conf.

	* ruby/mod_rd2html.rb: RD2HTML module.

	* apachelib.c (ruby_request_outbuf_length): return long.

	* apachelib.c (apache_add_version_component): new method.

	* apachelib.c (connection_auth_type): new method.

	* apachelib.c (request_protocol): new method.

	* apachelib.c (request_subprocess_env): new method.

	* apachelib.c (request_remote_host): new method.

	* apachelib.c (request_remote_logname): new method.

	* apachelib.c (request_server_name): new method.

	* apachelib.c (request_server_port): new method.

	* apachelib.c (request_signature): new method.

	* apachelib.c (reset_timeout): new method.

	* apachelib.c (hard_timeout): new method.

	* apachelib.c (soft_timeout): new method.

	* apachelib.c (kill_timeout): new method.

	* apachelib.c (add_common_vars): new method.

	* apachelib.c (add_cgi_vars): new method.

Thu Apr 12 17:53:24 2001  Shugo Maeda <shugo@modruby.net>

	* mod_ruby.c (run_safely): call rb_thread_stop_timer() for
	FreeBSD.

	* mod_ruby (script_handler): use run_safely(). do not call
	rb_gc().

	* apachelib.c (ruby_create_request): delay creation of
	Apache::Connection, Apache::Table....

	* ruby_config.c (ruby_cmd_safe_level): RubySafeLevel is now
	per-directory.

Tue Apr 10 18:10:59 2001  Shugo Maeda <shugo@modruby.net>

	* mod_ruby.c (run_safely_0): call ruby_log_error() on error.

Tue Apr 10 16:52:47 2001  Shugo Maeda <shugo@modruby.net>

	* mod_ruby.c (ruby_object_handler): new handler.

	* ruby_config.c (ruby_cmd_add_path): new directive.

	* apachelib.c (ruby_create_request): new argument input.

	* apachelib.c (ruby_init_apachelib): new constants such as Apache::OK.

Mon Apr  9 12:54:18 2001  Shugo Maeda <shugo@modruby.net>

	* apachelib.c (ruby_create_request): remove cast.

Tue Feb 27 10:56:24 2001  Colin Steele <colin@webg2.com>

	* apachelib.c (request_status): new method.

	* apachelib.c (request_set_status): new method.

Wed Jan 24 16:52:48 2001  Shugo Maeda <shugo@modruby.net>

	* apachelib.c (ruby_init_apachelib): fixed Apache::InTable#[].

Tue Dec 12 14:40:19 2000  Shugo Maeda <shugo@modruby.net>

	* version 0.2.2 released.

Tue Dec 12 14:35:30 2000  Shugo Maeda <shugo@modruby.net>

	* apachelib.c: some methods of Apache::Request are obsolete now.

Wed Dec  6 14:35:37 2000  Shugo Maeda <shugo@ruby-lang.org>

	* mod_ruby.c (ruby_startup): get correct RUBY_VERSION.

Thu Nov 23 18:22:30 2000  Shugo Maeda <shugo@ruby-lang.org>

	* ruby_config.c (ruby_cmd_safe_level): new directive.

Mon Oct 16 18:27:36 2000  Shugo Maeda <shugo@ruby-lang.org>

	* version 0.2.1 released.

Sat Oct 14 14:19:04 2000  Shugo Maeda <shugo@ruby-lang.org>

	* apachelib.c (request_binmode): new method.

	* mod_ruby.c (get_exception_info): bug fix.

Sat Oct 14 12:48:11 2000  Shugo Maeda <shugo@ruby-lang.org>

	* apachelib.c (ruby_init_apachelib): added input methods.

	* mod_ruby.c (ruby_handler0) : use Apache::Request for $stdin.

Mon Oct  2 23:32:17 2000  Shugo Maeda <shugo@ruby-lang.org>

	* mod_ruby.c (ruby_handler0): kill all threads on exit.

	* changed copyright.

Mon Sep 11 16:06:25 2000  Shugo Maeda <shugo@ruby-lang.org>

	* version 0.2.0 released.

Mon Sep 11 15:55:40 2000  Shugo Maeda <shugo@ruby-lang.org>

	* mod_ruby.c (ruby_startup): call ruby_init_loadpath().

Wed Sep  6 19:02:32 2000  Shugo Maeda <shugo@ruby-lang.org>

	* mod_ruby.c (load_eruby_charset): use eruby_default_charset
	instead of ERUBY_DEFAULT_CHARSET.

Thu Aug 31 11:48:43 2000  Shugo Maeda <shugo@ruby-lang.org>

	* Makefile.RB: new option --enable-eruby, --eruby-includes,
	--eruby-libraries.

	* eruby.h: removed.

	* eruby.c: removed.

Fri Aug 25 16:39:05 2000  Shugo Maeda <shugo@ruby-lang.org>

	* version 0.1.9 released.

Thu Aug  3 15:53:11 2000  Shugo Maeda <shugo@ruby-lang.org>

	* apachelib.c (ruby_init_apachelib): new class Apache::Table

Wed Aug  2 15:09:54 2000  Shugo Maeda <shugo@ruby-lang.org>

	* mod_ruby.c (ruby_init): add "." to the load path.

	* mod_ruby.c (ruby_handler0): reset the load path.

Tue Aug  1 09:55:07 2000  Shugo Maeda <shugo@ruby-lang.org>

	* mod_ruby.c (load_eruby_script): don't override Content-Type.

Thu Jul 13 12:25:34 2000  Shugo Maeda <shugo@ruby-lang.org>

	* Makefile.RB: expand CONFIG["LIBRUBYARG"] for ruby-1.5.

	* mod_ruby.c (ruby_handler0): use /dev/null instead of an original
	stdin for apache -X.

Wed Jun 14 13:11:48 2000  Shugo Maeda <shugo@netlab.co.jp>

	* apachelib.c (request_aref): don't call STR2CSTR() with
	char* argument.

	* mod_ruby.c (ruby_handler0): call stdin_reopen().

Tue May 30 11:29:45 2000  Katsuyuki Komatsu <komatsu@sarion.co.jp>

	* eruby.c: define S_ISDIR and W_OK.

Wed May 24 13:53:25 2000  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.8 released.

Wed May 24 13:52:48 2000  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (load_eruby_script): set eruby_noheader to 0.

Wed May 24 12:39:43 2000  Shugo Maeda <shugo@netlab.co.jp>

	* apachelib.c (request_get_sync): removed.

	* apachelib.c (request_set_sync): removed.

	* apachelib.c (rb_request_flush): do not send body if
	data->request->header_only is non-zero.

Thu May 18 17:43:42 2000  Shugo Maeda <shugo@netlab.co.jp>

	* apachelib.c (ruby_create_request): cast request_mark to
	void (*) _((void*)).

	* apachelib.c (request_content_length): use rb_cstr2inum()
	if RUBY_VERSION_CODE >= 150.

Thu May 18 17:08:33 2000  Shugo Maeda <shugo@netlab.co.jp>

	* eruby.c (eruby_init): new module ERuby.

	* Makefile.RB: added --default-charset option.

Wed Apr  5 17:11:15 2000  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.7 released.

Fri Mar 31 18:51:20 2000  Shugo Maeda <shugo@netlab.co.jp>

	* eruby.c (eruby_compile): bug fix.

Thu Mar 30 17:07:30 2000  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.6 released.

Thu Mar 30 17:04:29 2000  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (setup_env): use ap_add_common_vars() and
	ap_add_cgi_vars().

	* mod_ruby.c (get_charset): UTF8 -> UTF-8.

	* Makefile.RB: new option --apxs.

	* apachelib.c (request_aref): return nil if key =~ /authorization/i.

Tue Mar 28 14:41:12 2000  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.5 released.

Wed Dec 15 23:25:39 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (load_eruby_script): do not set Content-Encoding,
	but set Content-Length.

Thu Aug 12 11:50:49 1999  Katsuyuki Komatsu <komatsu@sarion.co.jp>

	* Makefile.RB: overwrite XLDFLAGS and DLDFLAGS for AIX.

	* Makefile.RB: remove -Wl, from LIBRUBYARG and XLDFLAGS for AIX.

	* Makefile.RB: remove mod_ruby.imp in distclean target.

Tue Aug 10 15:41:30 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.4 released.

Tue Aug 10 15:39:32 1999  Shugo Maeda <shugo@netlab.co.jp>

	* Makefile.RB: use ftools instead of INSTALL_PROGRAM.

Thu Jul 22 15:47:51 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (ruby_error_print): pass "%s" to ap_log_error().

Wed Jul 14 11:00:04 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (thread_kill): new function.

	* mod_ruby.c (ruby_handler0): kill wcb_thread on exit.

Tue Jul 13 17:03:51 1999  Katsuyuki Komatsu <komatsu@sarion.co.jp>

	* Makefile.RB: hack for AIX.

Fri Jul  9 19:24:38 1999  Shugo Maeda  <shugo@netlab.co.jp>

	* Makefile.RB: add XLDFLAGS.

Fri Jul  9 13:27:01 1999  Katsuyuki Komatsu <komatsu@sarion.co.jp>

	* Makefile.RB: replace -L. with -L$(prefix)/lib in LIBRUBYARG.

Tue Jul  6 18:40:42 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.3 released.

Tue Jul  6 13:10:29 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (write_client_block0): use small size buffer.

	* apachelib.c: rename Request#method to Request#request_method.

Mon Jul  5 22:04:32 1999  Shugo Maeda <shugo@netlab.co.jp>

	* Makefile.RB: use LIBS.

Mon Jul  5 21:57:12 1999  NAKAMURA, Hiroshi <nakahiro@sarion.co.jp>

	* Makefile.RB: use INSTALL_DLLIB and compile_dir.

Fri Jun 25 11:22:52 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (write_client_block0): ensure that fd is writable.

Mon Jun 21 16:21:54 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.2 released.

Mon Jun 21 16:08:24 1999  Shugo Maeda <shugo@netlab.co.jp>

	* include eRuby sources.

	* mod_ruby.c: renamed from ruby_module.c for static linking.

	* Makefile.RB: use .so instead of CONFIG["DLEXT"].

Tue Jun  1 16:03:58 1999  Shugo Maeda <shugo@netlab.co.jp>

	* Makefile.RB: use shared library for eRuby.

	* ruby_module.c (ruby_handler0): call rb_exec_end_proc() and rb_gc().

Fri May 21 11:55:40 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (get_exception_info): pop from errat.

	* ruby_module.c (load_eruby_script): unlink temporary file.

Thu May 20 14:58:31 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.1 released.

Thu May 20 14:54:32 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (eruby_handler): handle ruby embedded HTML file.

	* Makefile.RB: renamed from configure.rb.

	* Makefile.RB: use apxs.

	* Makefile.RB: added options --enable-eruby and --eruby-dir.

Tue Apr 20 16:22:11 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.1.0 released.

Mon Apr 19 19:37:26 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (ruby_error_print): print error info to error.log.

Tue Apr 13 20:13:32 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_config.c: new file.

Mon Apr 12 18:29:32 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (merge_dir_config): new function.

	* ruby_module.c: move ruby_module definition to top.

	* ruby_module.c: remove HASH_FREEZE macro.

Wed Apr  7 18:48:50 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (ruby_cmd_export_env): remove command RubyExportEnv.

	* ruby_module.c (ruby_cmd_pass_env): new command RubyPassEnv.

	* ruby_module.c (ruby_comd_set_env): new command RubySetEnv.

	* apachelib.c: remove Apache::Writable and define output methods
	directly in Apache::Request.

Tue Apr  6 19:41:45 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.9 released.

Tue Apr  6 18:52:09 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (ruby_cmd_timeout): new command RubyTimeout.

Fri Apr  2 14:06:20 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (do_timeout): new function.

Thu Mar 18 11:13:15 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c: #include "util.h"

	* apachelib.c: do not cast const char* to char*.

Fri Mar 12 16:53:09 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (ruby_startup): use RUBY_RELEASE_DATE instead of VERSION_DATE.

Tue Mar  9 15:33:44 1999  KIMURA Koichi <kimura@sqa.canon.co.jp>

	* ruby_module.c (mr_clearenv): hack for win32.

Sun Mar  7 20:35:00 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.8 released.

Sun Mar  7 19:59:52 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apachelib.c (apache_server_version): new method.

	* apachelib.c (apache_server_built): new method.

	* README.en: new file.

	* README.ja: new file.

Tue Mar  2 21:04:56 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (mr_clearenv): new function.

	* ruby_module.c (ruby_error_print): always print error message in HTML.

	* ruby_module.c (setup_env): new environment variables REQUEST_URI,
	SCRIPT_NAME, PATH_TRANSLATED.

	* apachelib.c (apache_unescape_url): new method.

	* apachelib.c (request_escape_html): new method.

Mon Mar  1 11:58:24 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.7 released.

Mon Mar  1 11:12:41 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.c (ruby_handler): protect Thread#join. (but I don't
	know why I need it.)

Sat Feb 27 01:28:15 1999  Shugo Maeda <shugo@netlab.co.jp>

	* ruby_module.[ch]: renamed from mod_ruby.[ch]

	* apachelib.[ch]: renamed from apache.[ch]

	* configure.rb: rename option --apachelib to --apachelibexec.

	* ruby_module.c (ruby_cmd_export_env): new command RubyExportEnv.

Thu Feb 25 20:52:04 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (setup_env): new environment variable HTTP_CONNECTION.

	* mod_ruby.c (ruby_startup): add version component (ruby version).

Tue Feb 23 23:26:42 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (rb_request_flush): new method. (renamed from
	rb_exec_request.)

	* apache.c (request_write): if sync mode is true, write data
	to client immediately.

	* apache.c (ruby_create_request): use request_data structure
	instead of using request_rec directly.

	* mod_ruby.c (ruby_error_print): if sync mode is true, print
	error information in HTML.

	* mod_ruby.c (clearenv): realloc environ.

Tue Feb 23 17:05:12 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.6 released.

Tue Feb 23 16:50:29 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (request_hostname): new method.

	* apache.c (request_unparsed_uri): new method.

	* apache.c (request_uri): new method.

	* apache.c (request_filename): new method.

	* apache.c (request_path_info): new method.

	* apache.c (request_request_time): new method.

	* mod_ruby.c (setup_env): restore environment variables.

Tue Feb 23 09:47:11 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (request_method): new method.

	* apache.c (request_args): new method.

	* apache.c (request_content_length): new method.

	* apache.c (send_to_stdin): new method `read', `gets', etc....

Mon Feb 22 23:19:30 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (request_aset): set Content-Type and Content-Encoding
	properly.

Fri Feb 19 16:13:04 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (ruby_startup): fix typo.

	* apache.c (writable_addstr): new method.

	* apache.c (writable_flush): new method.

	* apache.c (writable_get_sync): new method.

	* apache.c (writable_set_sync): new method.

	* apache.c (request_each_key): new method.

	* apache.c (request_each_value): new method.

	* apache.c (ruby_init_apache): Apache::Request include Enumerable.

Fri Feb 19 03:09:39 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.5 released.

Fri Feb 19 03:04:30 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (request_each_header): new method.

	* mod_ruby.c (ruby_startup): define global constant MOD_RUBY.

Thu Feb 18 20:17:45 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (request_get_content_languages): new method.

	* apache.c (request_set_content_languages): new method.

Thu Feb 18 19:28:37 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c: new module Writable.

	* apache.c (ruby_init_apache): renamed from `Init_apache'.

	* apache.c (ruby_init_apache): Apache::Request include Apache::Writable
	 instead of inheriting IO.

Thu Feb 18 15:05:54 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (Init_apache): define HTTP status code constants.

Thu Feb 18 06:48:40 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (Init_apache): rename Request#send_header to `send_http_header'.

	* mod_ruby.c (ruby_handler): pass exit status code to Apache.

Wed Feb 17 00:57:46 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.4 released.

Wed Feb 17 00:44:55 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (ruby_startup): set script name to "mod_ruby".

	* mod_ruby.c (ruby_error_pos): use snprintf() instead of sprintf().

	* mod_ruby.c (ruby_error_print): set r->content_type to "text/plain".

Wed Feb 17 00:39:15 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c (ruby_exec_request): new function.

	* apache.c (request_aref): new method.

	* apache.c (request_aset): new method.

Tue Feb 16 22:00:13 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c (ruby_setenv2): emulate new function ruby_setenv2.

Tue Feb 16 15:42:09 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.3 released.

Mon Feb 15 18:39:12 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c: remove RubySafeLevel command.

	* mod_ruby.c (ruby_startup): set safe level to 1.

Fri Feb 12 03:54:43 1999  Shugo Maeda <shugo@netlab.co.jp>

	* mod_ruby.c: stdin support.

	* apache.c: remove rb_query.

	* configure.rb: new file.

Sat Feb  6 23:46:37 1999  Shugo Maeda <shugo@netlab.co.jp>

	* apache.c: new class StringStream.

	* mod_ruby.c (load_script): catch SystemExit.

	* mod_ruby.c (query_aset): join multiple value in query
	string with '\0'.

	* mod_ruby.c (ruby_handler): use thread for $SAFE.

	* apache.c (f_getenv): environment variable support.

Sat Jan  9 03:55:21 1999  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.2 released.

Mon Dec 21 12:05:03 1998  Shugo Maeda <shugo@netlab.co.jp>

	* version 0.0.1 released.

Local variables:
mode: ChangeLog
tab-width: 8
End:
